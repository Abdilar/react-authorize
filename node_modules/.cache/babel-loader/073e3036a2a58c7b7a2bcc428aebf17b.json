{"ast":null,"code":"import PropTypes from 'prop-types';\n\nvar hasPermission = function hasPermission(permissions, check) {\n  console.log('aaaa: ', JSON.parse(permissions), Array.isArray(permissions), permissions.length);\n\n  if (Array.isArray(permissions) && permissions.length) {\n    if (Array.isArray(check)) {\n      return check.every(function (check) {\n        return permissions.some(function (permission) {\n          return permission === check;\n        });\n      });\n    } else {\n      return check === \"\" || permissions.some(function (permission) {\n        return permission === check;\n      });\n    }\n  }\n\n  return false;\n};\n\nfunction isEmptyString(data) {\n  return !(isString(data) ? data : false);\n}\n\nfunction isString(data) {\n  return typeof data === 'string';\n}\n\nvar DEFAULT_PROPS = {\n  check: '',\n  permissionKey: '',\n  permissions: []\n};\nvar PROP_TYPES = {\n  check: PropTypes.any,\n  children: PropTypes.element,\n  permissionKey: PropTypes.string,\n  permissions: PropTypes.array\n};\n\nvar Authorize = function Authorize(_ref) {\n  var check = _ref.check,\n      children = _ref.children,\n      permissionKey = _ref.permissionKey,\n      permissions = _ref.permissions;\n  var per = isEmptyString(permissionKey) ? permissions : localStorage.getItem(permissionKey);\n  console.log('aa: ', permissionKey, isEmptyString(permissionKey), localStorage.getItem(permissionKey), check, hasPermission(per, check));\n  return check ? hasPermission(per, check) ? children : null : children;\n};\n\nAuthorize.defaultProps = DEFAULT_PROPS;\nAuthorize.propTypes = PROP_TYPES;\nexport default Authorize;","map":{"version":3,"mappings":";;AAAO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,WAAD,EAAcC,KAAd,EAAwB;AACnDC,SAAO,CAACC,GAARD,CAAY,QAAZA,EAAsBE,IAAI,CAACC,KAALD,CAAWJ,WAAXI,CAAtBF,EAA+CI,KAAK,CAACC,OAAND,CAAcN,WAAdM,CAA/CJ,EAA2EF,WAAW,CAACQ,MAAvFN;;AACA,MAAII,KAAK,CAACC,OAAND,CAAcN,WAAdM,KAA8BN,WAAW,CAACQ,MAA9C,EAAsD;AACpD,QAAIF,KAAK,CAACC,OAAND,CAAcL,KAAdK,CAAJ,EAA0B;AACxB,aAAOL,KAAK,CAACQ,KAANR,CAAYA,eAAK;AAAA,eAAID,WAAW,CAACU,IAAZV,CAAiBW,oBAAU;AAAA,iBAAIA,UAAU,KAAKV,KAAnB;AAAA,SAA3BD,CAAJ;AAAA,OAAjBC,CAAP;AADF,WAEO;AACL,aAAQA,KAAK,KAAK,EAAVA,IAAgBD,WAAW,CAACU,IAAZV,CAAiBW,oBAAU;AAAA,eAAIA,UAAU,KAAKV,KAAnB;AAAA,OAA3BD,CAAxB;AACD;AACF;;AACD,SAAO,KAAP;AATK;;AAYA,SAASY,aAAT,CAAuBC,IAAvB,EAA6B;AAClC,SAAO,EAAEC,QAAQ,CAACD,IAAD,CAARC,GAAiBD,IAAjBC,GAAwB,KAA1B,CAAP;AACD;;AAEM,SAASA,QAAT,CAAkBD,IAAlB,EAAwB;AAC7B,SAAO,OAAOA,IAAP,KAAgB,QAAvB;AACD;;AChBM,IAAME,aAAa,GAAG;AAC3Bd,OAAK,EAAE,EADoB;AAE3Be,eAAa,EAAE,EAFY;AAG3BhB,aAAW,EAAE;AAHc,CAAtB;AAMP,IAAaiB,UAAU,GAAG;AACxBhB,OAAK,EAAEiB,SAAS,CAACC,GADO;AAExBC,UAAQ,EAAEF,SAAS,CAACG,OAFI;AAGxBL,eAAa,EAAEE,SAAS,CAACI,MAHD;AAIxBtB,aAAW,EAAEkB,SAAS,CAACK;AAJC,CAA1B;;ICLMC,SAAS,GAAG,SAAZA,SAAY,OAAmD;AAAA,MAAjDvB,KAAiD,QAAjDA,KAAiD;AAAA,MAA1CmB,QAA0C,QAA1CA,QAA0C;AAAA,MAAhCJ,aAAgC,QAAhCA,aAAgC;AAAA,MAAjBhB,WAAiB,QAAjBA,WAAiB;AACnE,MAAMyB,GAAG,GAAGb,aAAa,CAACI,aAAD,CAAbJ,GAA+BZ,WAA/BY,GAA6Cc,YAAY,CAACC,OAAbD,CAAqBV,aAArBU,CAAzD;AACAxB,SAAO,CAACC,GAARD,CAAY,MAAZA,EAAoBc,aAApBd,EAAmCU,aAAa,CAACI,aAAD,CAAhDd,EAAiEwB,YAAY,CAACC,OAAbD,CAAqBV,aAArBU,CAAjExB,EAAsGD,KAAtGC,EAA6GH,aAAa,CAAC0B,GAAD,EAAMxB,KAAN,CAA1HC;AACA,SACED,KAAK,GAAIF,aAAa,CAAC0B,GAAD,EAAMxB,KAAN,CAAbF,GAA4BqB,QAA5BrB,GAAuC,IAA3C,GAAmDqB,QAD1D;AAHF;;AAQAI,SAAS,CAACI,YAAVJ,GAAyBT,aAAzBS;AACAA,SAAS,CAACK,SAAVL,GAAsBP,UAAtBO","names":["hasPermission","permissions","check","console","log","JSON","parse","Array","isArray","length","every","some","permission","isEmptyString","data","isString","DEFAULT_PROPS","permissionKey","PROP_TYPES","PropTypes","any","children","element","string","array","Authorize","per","localStorage","getItem","defaultProps","propTypes"],"sources":["../src/utils/functions.js","../src/components/Authorize/Authorize.config.js","../src/components/Authorize/Authorize.component.js"],"sourcesContent":["export const hasPermission = (permissions, check) => {\n  console.log('aaaa: ', JSON.parse(permissions), Array.isArray(permissions), permissions.length);\n  if (Array.isArray(permissions) && permissions.length) {\n    if (Array.isArray(check)) {\n      return check.every(check => permissions.some(permission => permission === check))\n    } else {\n      return (check === \"\" || permissions.some(permission => permission === check));\n    }\n  }\n  return false;\n};\n\nexport function isEmptyString(data) {\n  return !(isString(data) ? data : false);\n}\n\nexport function isString(data) {\n  return typeof data === 'string';\n}\n","import PropTypes from 'prop-types';\n\nexport const DEFAULT_PROPS = {\n  check: '',\n  permissionKey: '',\n  permissions: []\n};\n\nexport const PROP_TYPES = {\n  check: PropTypes.any,\n  children: PropTypes.element,\n  permissionKey: PropTypes.string,\n  permissions: PropTypes.array\n};\n","import {hasPermission, isEmptyString} from '../../utils/functions';\nimport {DEFAULT_PROPS, PROP_TYPES} from './Authorize.config';\n\nconst Authorize = ({check, children, permissionKey, permissions}) => {\n  const per = isEmptyString(permissionKey) ? permissions : localStorage.getItem(permissionKey);\n  console.log('aa: ', permissionKey, isEmptyString(permissionKey), localStorage.getItem(permissionKey), check, hasPermission(per, check));\n  return (\n    check ? (hasPermission(per, check) ? children : null) : children\n  );\n};\n\nAuthorize.defaultProps = DEFAULT_PROPS;\nAuthorize.propTypes = PROP_TYPES;\n\nexport {Authorize};\n"]},"metadata":{},"sourceType":"module"}